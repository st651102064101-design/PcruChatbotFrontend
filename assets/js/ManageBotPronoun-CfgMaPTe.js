import{I as e,r as a,l as o,g as t,c as s,o as l,d as n,a as r,h as c,F as i,b as u,w as v,p as d,s as p,G as k,t as h,q as m,n as b,i as w,z as x}from"./vue-vendor-CaqZERVf.js";import{_ as f}from"./index-YNQFrYK5.js";import"./axios-vendor-Dos3PyFQ.js";const y={class:"pronoun-section"},g={class:"card-body"},C={class:"pronoun-options"},M=["onClick"],B={class:"option-content"},_={class:"option-icon"},j={viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},z={key:0,cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"2"},I={key:1,x:"12",y:"16","text-anchor":"middle",fill:"currentColor","font-size":"8","font-weight":"600"},L={key:2,x:"4",y:"4",width:"16",height:"16",rx:"4",stroke:"currentColor","stroke-width":"2"},P={key:3,d:"M8 12h8M12 8v8",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"},$={class:"option-text"},q={class:"option-label"},F={class:"option-description"},G={key:0,class:"option-check"},U={key:0,class:"custom-input-wrapper"},V={class:"custom-input-container"},A={class:"input-counter"},D={class:"info-box"},E={class:"info-content"},H={class:"info-text"},J={class:"action-area"},K=["disabled"],N={key:0,class:"button-content"},O={key:1,class:"button-content"},Q={class:"alert-modal"},R={key:0,viewBox:"0 0 24 24",fill:"none"},S={key:1,viewBox:"0 0 24 24",fill:"none"},T={class:"alert-title"},W={class:"alert-message"},X=f({__name:"ManageBotPronoun",setup(f){const{appContext:X}=e(),{$axios:Y}=X.config.globalProperties,Z=a(!0),ee=a(!1),ae=a("หนู"),oe=a(""),te=a(!1),se=a("success"),le=a(""),ne=a(""),re=[{value:"หนู",label:"หนู",description:"สุภาพ น่ารัก เป็นกันเอง",icon:"หนู"},{value:"ดิฉัน",label:"ดิฉัน",description:"สุภาพ เป็นทางการ (หญิง)",icon:"ดิฉัน"},{value:"ข้าพเจ้า",label:"ข้าพเจ้า",description:"ทางการมาก ราชการ (หญิง)",icon:"ข้า"},{value:"ฉัน",label:"ฉัน",description:"เป็นกันเอง สบายๆ",icon:"ฉัน"},{value:"custom",label:"กำหนดเอง",description:"ใส่สรรพนามที่คุณต้องการ",icon:"+"}],ce=o(()=>"custom"===ae.value?oe.value||"สรรพนาม":ae.value),ie=(e,a,o)=>{se.value=e,le.value=a,ne.value=o,te.value=!0},ue=()=>{te.value=!1},ve=async()=>{if(ee.value)return;const e="custom"===ae.value?oe.value.trim():ae.value;if(e){ee.value=!0;try{await Y.post("/ai-image/bot-pronoun",{pronoun:e}),ie("success","บันทึกสำเร็จ",`บอทจะใช้สรรพนาม "${e}" ในการสนทนา`)}catch(a){ie("error","เกิดข้อผิดพลาด","ไม่สามารถบันทึกสรรพนามได้ กรุณาลองใหม่อีกครั้ง")}finally{ee.value=!1}}else ie("error","ไม่สามารถบันทึกได้","กรุณาระบุสรรพนามที่ต้องการ")};return t(()=>{(async()=>{Z.value=!0;try{const e=await Y.get("/ai-image/bot-pronoun");if(e.data&&e.data.pronoun){const a=e.data.pronoun;re.some(e=>e.value===a&&"custom"!==e.value)?ae.value=a:(ae.value="custom",oe.value=a)}}catch(e){}finally{Z.value=!1}})()}),(e,a)=>(l(),s("div",y,[n("div",{class:b(["pronoun-card",{"card-loading":Z.value}])},[a[6]||(a[6]=c('<div class="card-header" data-v-e5e3789b><div class="card-icon" data-v-e5e3789b><svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-e5e3789b><circle cx="12" cy="8" r="4" stroke="currentColor" stroke-width="2" data-v-e5e3789b></circle><path d="M4 20c0-4 4-6 8-6s8 2 8 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" data-v-e5e3789b></path></svg></div><div class="card-title-group" data-v-e5e3789b><h3 class="card-title" data-v-e5e3789b>เลือกสรรพนาม</h3><p class="card-subtitle" data-v-e5e3789b>กำหนดสรรพนามที่บอทจะใช้เรียกตัวเอง</p></div></div>',1)),n("div",g,[n("div",C,[(l(),s(i,null,u(re,e=>n("div",{key:e.value,class:b(["pronoun-option",{selected:ae.value===e.value,"custom-selected":"custom"===e.value&&"custom"===ae.value}]),onClick:a=>{return o=e.value,ae.value=o,void("custom"!==o&&(oe.value=""));var o}},[n("div",B,[n("div",_,[(l(),s("svg",j,["custom"!==e.value?(l(),s("circle",z)):d("",!0),"custom"!==e.value?(l(),s("text",I,h(e.icon),1)):(l(),s("rect",L)),"custom"===e.value?(l(),s("path",P)):d("",!0)]))]),n("div",$,[n("span",q,h(e.label),1),n("span",F,h(e.description),1)])]),ae.value===e.value?(l(),s("div",G,[...a[1]||(a[1]=[n("svg",{viewBox:"0 0 24 24",fill:"none"},[n("path",{d:"M5 12l5 5L20 7",stroke:"currentColor","stroke-width":"3","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])])):d("",!0)],10,M)),64))]),r(m,{name:"slide-fade"},{default:v(()=>["custom"===ae.value?(l(),s("div",U,[a[2]||(a[2]=n("label",{class:"custom-label"},"กรอกสรรพนามที่ต้องการ",-1)),n("div",V,[p(n("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=e=>oe.value=e),class:"custom-input",placeholder:"เช่น เรา, ข้าพเจ้า, กระผม...",maxlength:"20"},null,512),[[k,oe.value]]),n("span",A,h(oe.value.length)+"/20",1)])])):d("",!0)]),_:1}),n("div",D,[a[3]||(a[3]=n("div",{class:"info-icon"},[n("svg",{viewBox:"0 0 24 24",fill:"none"},[n("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"2"}),n("path",{d:"M12 8v4M12 16h.01",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"})])],-1)),n("div",E,[n("span",H,'ตัวอย่าง: "'+h(ce.value)+'ยินดีที่จะช่วยเหลือคุณค่ะ"',1)])]),n("div",J,[n("button",{class:b(["save-button",{saving:ee.value}]),onClick:ve,disabled:ee.value||"custom"===ae.value&&!oe.value.trim()},[ee.value?(l(),s("span",O,[...a[5]||(a[5]=[n("div",{class:"spinner"},null,-1),w(" กำลังบันทึก... ",-1)])])):(l(),s("span",N,[...a[4]||(a[4]=[n("svg",{class:"button-icon",viewBox:"0 0 24 24",fill:"none"},[n("path",{d:"M5 12l5 5L20 7",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),w(" บันทึกสรรพนาม ",-1)])]))],10,K)])])],2),r(m,{name:"modal-fade"},{default:v(()=>[te.value?(l(),s("div",{key:0,class:"alert-overlay",onClick:x(ue,["self"])},[n("div",Q,[n("div",{class:b(["alert-icon",se.value])},["success"===se.value?(l(),s("svg",R,[...a[7]||(a[7]=[n("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"2"},null,-1),n("path",{d:"M8 12l3 3 5-5",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)])])):(l(),s("svg",S,[...a[8]||(a[8]=[n("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"2"},null,-1),n("path",{d:"M12 8v4M12 16h.01",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"},null,-1)])]))],2),n("h3",T,h(le.value),1),n("p",W,h(ne.value),1),n("button",{class:"alert-button",onClick:ue},"ตกลง")])])):d("",!0)]),_:1})]))}},[["__scopeId","data-v-e5e3789b"]]);export{X as default};
