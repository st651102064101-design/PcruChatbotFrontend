/* ==========================================================================
   ðŸ”‹ GRAPHICS LOW MODE - Maximum Performance
   ========================================================================== */

/* Hide ALL decorative elements */
.snowflake,
.intro-particle,
.wave-hand,
.sparkle,
.glow-effect,
.chat-panel::before,
.chat-panel::after {
  display: none !important;
  visibility: hidden !important;
}

/* ðŸ’¤ Keep zzz animation visible but simplified */
.bot-sleeping-zzz {
  display: flex !important;
  visibility: visible !important;
}

.bot-sleeping-zzz .zzz-bubble {
  animation: zzz-float-simple 2s ease-in-out infinite !important;
  opacity: 1 !important;
}

.bot-sleeping-zzz .zzz-bubble.zzz-1 { animation-delay: 0s !important; }
.bot-sleeping-zzz .zzz-bubble.zzz-2 { animation-delay: 0.3s !important; }
.bot-sleeping-zzz .zzz-bubble.zzz-3 { animation-delay: 0.6s !important; }

@keyframes zzz-float-simple {
  0%, 100% { transform: translateY(0); opacity: 0.3; }
  50% { transform: translateY(-10px); opacity: 1; }
}

/* Disable ALL animations, transitions, and filters */
*:not(.fab-open):not([class*="fab-"]):not(.apple-help-overlay):not(.apple-help-overlay *) {
  animation: none !important;
  animation-duration: 0s !important;
  animation-delay: 0s !important;
  transition: none !important;
  transition-duration: 0s !important;
  transition-delay: 0s !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  filter: none !important;
  will-change: auto !important;
}

*:not(.fab-open):not(.apple-help-overlay):not(.apple-help-overlay *)::before,
*:not(.fab-open):not(.apple-help-overlay):not(.apple-help-overlay *)::after {
  animation: none !important;
  transition: none !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  filter: none !important;
}

/* âœ… FAB BUTTON - Force display */
.fab-open,
button.fab-open {
  display: flex !important;
  visibility: visible !important;
  opacity: 1 !important;
  position: fixed !important;
  right: 24px !important;
  bottom: 36px !important;
  width: 58px !important;
  height: 58px !important;
  z-index: 2147483647 !important;
  background: linear-gradient(135deg, #6B2C91 0%, #8B4CB8 100%) !important;
  border-radius: 29px !important;
  border: none !important;
  align-items: center !important;
  justify-content: center !important;
  cursor: pointer !important;
  box-shadow: 0 4px 16px rgba(107, 44, 145, 0.3) !important;
  pointer-events: auto !important;
}

.fab-open svg,
.fab-open path,
.fab-open circle,
button.fab-open svg,
button.fab-open path,
button.fab-open circle {
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
}

/* âœ… RESTORE Help overlay */
.apple-help-overlay,
.apple-help-overlay * {
  animation: revert !important;
  transition: revert !important;
}

/* Simplified shadows */
.message-bubble,
.chat-panel,
.backdrop-card,
.category-btn,
.sub-item,
.suggestion-btn {
  box-shadow: 0 1px 3px rgba(0,0,0,0.1) !important;
}

/* Solid backgrounds - Light mode */
.chat-panel {
  background: rgba(255, 255, 255, 0.98) !important;
}

/* Solid backgrounds - Dark mode */
.dark-mode .chat-panel,
[data-theme="dark"] .chat-panel {
  background: #1c1c1e !important;
}

/* ðŸŒ™ Dark mode - Solid backgrounds for message bubbles (NO blur in low mode) */
/* Ultra high specificity to override all other rules */
html[data-theme="dark"] .message-bubble.bot,
html[data-theme="dark"] .message-bubble.bot.bot-with-categories,
html[data-theme="dark"] .backdrop-card,
html[data-theme="dark"] .bot-with-categories,
[data-theme="dark"] .message-bubble.bot,
[data-theme="dark"] .message-bubble.bot.bot-with-categories,
[data-theme="dark"] .backdrop-card,
[data-theme="dark"] .bot-with-categories {
  background: #1c1c1e !important;
  background-color: #1c1c1e !important;
  color: #f5f5f7 !important;
  border: 1px solid rgba(255, 255, 255, 0.1) !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
}

html[data-theme="dark"] .message-text,
html[data-theme="dark"] .ai-greet-title,
html[data-theme="dark"] .ai-greet-sub,
html[data-theme="dark"] .category-title,
[data-theme="dark"] .message-text,
[data-theme="dark"] .ai-greet-title,
[data-theme="dark"] .ai-greet-sub,
[data-theme="dark"] .category-title {
  color: #f5f5f7 !important;
}

/* Dark mode panel body */
html[data-theme="dark"] .panel-body,
[data-theme="dark"] .panel-body {
  background: #000 !important;
}

/* Force visibility for essential elements */
#app,
main,
.chat-overlay,
.chat-panel,
.chat-wrapper,
.chatbot-container,
.panel-body,
.panel-footer,
.panel-top,
.panel-header,
.messages-container,
.message-wrapper,
.message-text,
.message-bubble,
.category-btn,
.sub-item,
.suggestion-btn,
button,
input,
textarea {
  visibility: visible !important;
  opacity: 1 !important;
}

/* Chat overlay must display */
.chat-overlay {
  display: flex !important;
  position: fixed !important;
  inset: 0 !important;
  z-index: 1400 !important;
}

/* ==========================================================================
   ðŸ”˜ FAB BUTTON - Must be visible (CRITICAL - highest specificity)
   ========================================================================== */
/* Ultra-high specificity to override everything */
body.gfx-low button.fab-open,
html.gfx-low button.fab-open,
body.gfx-low .fab-open,
html.gfx-low .fab-open,
.gfx-low button.fab-open,
.gfx-low .fab-open,
button.fab-open.fab-open.fab-open,
.fab-open.fab-open.fab-open {
  display: flex !important;
  visibility: visible !important;
  opacity: 1 !important;
  position: fixed !important;
  right: 24px !important;
  bottom: 36px !important;
  width: 58px !important;
  height: 58px !important;
  z-index: 2147483647 !important; /* Max z-index */
  background: linear-gradient(135deg, #6B2C91 0%, #8B4CB8 100%) !important;
  border-radius: 29px !important;
  border: none !important;
  align-items: center !important;
  justify-content: center !important;
  cursor: pointer !important;
  box-shadow: 0 4px 16px rgba(107, 44, 145, 0.3) !important;
  transform: none !important;
  pointer-events: auto !important;
}

/* FAB Icon and SVG - Must be visible with ultra-high specificity */
body.gfx-low button.fab-open svg,
html.gfx-low button.fab-open svg,
body.gfx-low .fab-open svg,
html.gfx-low .fab-open svg,
.gfx-low .fab-open svg,
body.gfx-low .fab-open .fab-icon,
html.gfx-low .fab-open .fab-icon,
.gfx-low .fab-open .fab-icon,
body.gfx-low .fab-open path,
html.gfx-low .fab-open path,
.gfx-low .fab-open path,
body.gfx-low .fab-open circle,
html.gfx-low .fab-open circle,
.gfx-low .fab-open circle,
.fab-open svg,
.fab-open path,
.fab-open circle {
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
}

/* Allow FAB animations to work - highest specificity */
body.gfx-low button.fab-open *,
html.gfx-low button.fab-open *,
body.gfx-low .fab-open *,
html.gfx-low .fab-open *,
.gfx-low .fab-open *,
.fab-open * {
  animation: revert !important;
  transition: revert !important;
  visibility: visible !important;
  opacity: revert !important;
}

/* Chat-root should not clip FAB */
.chat-root {
  overflow: visible !important;
}

/* ==========================================================================
   ðŸ“– HELP OVERLAY - Apple Help Modal
   ========================================================================== */
.apple-help-overlay {
  display: flex !important;
  visibility: visible !important;
  opacity: 1 !important;
  position: fixed !important;
  inset: 0 !important;
  z-index: 99999 !important;
}

.apple-help-overlay .backdrop {
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
  position: absolute !important;
  inset: 0 !important;
  background: rgba(0, 0, 0, 0.5) !important;
}

.apple-help-overlay .apple-panel {
  display: flex !important;
  flex-direction: column !important;
  visibility: visible !important;
  opacity: 1 !important;
  transform: translateX(0) !important;
  background: #ffffff !important;
  position: relative !important;
  z-index: 2 !important;
  max-height: 100vh !important;
  overflow-y: auto !important;
}

.apple-help-overlay .panel-content {
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
  overflow-y: auto !important;
}

.apple-help-overlay .panel-header {
  display: flex !important;
  visibility: visible !important;
  opacity: 1 !important;
  position: sticky !important;
  top: 0 !important;
  z-index: 10 !important;
  background: #ffffff !important;
}

.apple-help-overlay .apple-section,
.apple-help-overlay .feature-card,
.apple-help-overlay .section-hero {
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
}

.apple-help-overlay .feature-grid {
  display: grid !important;
  visibility: visible !important;
  opacity: 1 !important;
}

/* Force all children visible */
.apple-help-overlay *,
.apple-help-overlay *::before,
.apple-help-overlay *::after {
  visibility: visible !important;
  opacity: 1 !important;
}

/* Dark mode help overlay */
.dark-mode .apple-help-overlay .apple-panel,
[data-theme="dark"] .apple-help-overlay .apple-panel {
  background: #1c1c1e !important;
}

.dark-mode .apple-help-overlay .panel-header,
[data-theme="dark"] .apple-help-overlay .panel-header {
  background: #1c1c1e !important;
}

/* ==========================================================================
   ðŸŽ¬ INTRO ANIMATION - Allow ONLY intro to have effects
   ========================================================================== */
.intro-overlay,
.intro-overlay *,
.intro-overlay *::before,
.intro-overlay *::after {
  animation: revert !important;
  animation-duration: revert !important;
  animation-delay: revert !important;
  transition: revert !important;
  transform: revert !important;
  backdrop-filter: revert !important;
  -webkit-backdrop-filter: revert !important;
  filter: revert !important;
  will-change: revert !important;
  visibility: visible !important;
  opacity: revert !important;
}

.intro-overlay .intro-particle,
.intro-overlay .intro-glow,
.intro-overlay .intro-ring,
.intro-overlay .sparkle,
.intro-overlay .glow-effect {
  display: block !important;
  visibility: visible !important;
}

/* ==========================================================================
   ðŸ“± Vue Transition Overrides
   ========================================================================== */
.apple-fade-enter-from,
.apple-fade-enter-active,
.apple-fade-enter-to,
.apple-slide-enter-from,
.apple-slide-enter-active,
.apple-slide-enter-to,
.fade-enter-from,
.fade-enter-active,
.fade-enter-to {
  opacity: 1 !important;
  transform: translateX(0) translateY(0) !important;
  visibility: visible !important;
}

/* More menu items */
.more-menu-item,
.submenu-option {
  transition: none !important;
}

.more-menu-item.visible,
.submenu-option.visible {
  transform: translateY(0) scale(1) !important;
  opacity: 1 !important;
}

.dot-animated {
  animation: none !important;
}
/* ==========================================================================
   ðŸ“± LINE Menu & Dropdown Support for Low Mode
   ========================================================================== */
/* LINE Menu Container */
.line-menu-container,
.line-menu-grid,
.line-menu-item,
.line-category-btn,
.line-subcategory-btn,
.category-icon-wrapper,
.cat-item,
.cat-toggle,
.sub-list,
.sub-item {
  visibility: visible !important;
  opacity: 1 !important;
  display: flex !important;
}

.line-menu-grid {
  display: grid !important;
}

.sub-list {
  display: block !important;
}

/* Dropdown Menu */
.more-menu-items {
  visibility: visible !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  background: rgba(255, 255, 255, 0.98) !important;
}

.more-menu-items.open {
  opacity: 1 !important;
  transform: scale(1) !important;
}


/* Input & Send Button */
.input-wrapper,
.input-pill,
.btn-send,
.btn-menu-toggle,
.dots-container,
.dot {
  visibility: visible !important;
  opacity: 1 !important;
}

/* Panel Elements */

.panel-header,
.panel-body,
.panel-footer,
.chat-messages,
.message-wrapper,
.message-bubble {
  visibility: visible !important;
  opacity: 1 !important;
}

/* Scroll buttons */
.scroll-to-top-btn,
.scroll-to-bottom-btn {
  visibility: visible !important;
  opacity: 1 !important;
}

/* Welcome screen */
.welcome-content,
.ai-greet-wrapper,
.welcome-categories-toggle,
.welcome-categories-grid {
  visibility: visible !important;
  opacity: 1 !important;
}

/* Solid backgrounds without blur */
.input-wrapper {
  background: rgba(255, 255, 255, 0.95) !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
}

[data-theme="dark"] .input-wrapper {
  background: rgba(44, 44, 46, 0.95) !important;
}

/* Simplified transitions for essential interactions */
.btn-send:hover,
.cat-toggle:hover,
.sub-item:hover,
.more-menu-item:hover,
.line-category-btn:hover {
  opacity: 0.85 !important;
}

/* ==========================================================================
   ðŸ”˜ FAB BUTTON OVERRIDE - CRITICAL: Must appear at END of file
   ========================================================================== */
button.fab-open,
.fab-open,
button[class*="fab-open"],
[class*="fab-open"] {
  display: flex !important;
  visibility: visible !important;
  opacity: 1 !important;
  position: fixed !important;
  right: 24px !important;
  bottom: 36px !important;
  width: 58px !important;
  height: 58px !important;
  z-index: 2147483647 !important;
  background: linear-gradient(135deg, #6B2C91 0%, #8B4CB8 100%) !important;
  border-radius: 29px !important;
  border: none !important;
  align-items: center !important;
  justify-content: center !important;
  cursor: pointer !important;
  box-shadow: 0 4px 16px rgba(107, 44, 145, 0.3) !important;
  transform: none !important;
  pointer-events: auto !important;
}

button.fab-open svg,
button.fab-open path,
button.fab-open circle,
.fab-open svg,
.fab-open path,
.fab-open circle {
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
}

button.fab-open *,
.fab-open * {
  visibility: visible !important;
  opacity: 1 !important;
}